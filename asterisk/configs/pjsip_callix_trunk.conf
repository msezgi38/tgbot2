;=============================================================================
; PJSIP Configuration for Callix SIP Trunk (Bot 2)
;=============================================================================
; This file configures Asterisk to register with Callix as a SIP trunk
; This trunk is ADDED to the existing pjsip.conf alongside magnus_trunk
;=============================================================================
;
; ⚠️ IMPORTANT: Append this content to your existing /etc/asterisk/pjsip.conf
; Do NOT replace the file - ADD these sections at the end
;
;=============================================================================

;-----------------------------------------------------------------------------
; Callix Trunk Registration
;-----------------------------------------------------------------------------
[callix_trunk]
type=registration
transport=transport-udp
outbound_auth=callix_auth
server_uri=sip:sip.callix.pro
client_uri=sip:YOUR_CALLIX_USERNAME@sip.callix.pro
retry_interval=60
max_retries=1000
auth_rejection_permanent=no
contact_user=YOUR_CALLIX_USERNAME

;-----------------------------------------------------------------------------
; Authentication for Callix
;-----------------------------------------------------------------------------
[callix_auth]
type=auth
auth_type=userpass
username=YOUR_CALLIX_USERNAME       ; ⚠️ REPLACE WITH YOUR CALLIX USERNAME
password=YOUR_CALLIX_PASSWORD       ; ⚠️ REPLACE WITH YOUR CALLIX PASSWORD
realm=sip.callix.pro

;-----------------------------------------------------------------------------
; AOR (Address of Record) for Callix
;-----------------------------------------------------------------------------
[callix_trunk]
type=aor
contact=sip:sip.callix.pro

;-----------------------------------------------------------------------------
; Identify - Match incoming calls from Callix
;-----------------------------------------------------------------------------
[callix_trunk]
type=identify
endpoint=callix_trunk
match=sip.callix.pro

;-----------------------------------------------------------------------------
; Endpoint Configuration for Outbound Calls via Callix
;-----------------------------------------------------------------------------
[callix_trunk]
type=endpoint
transport=transport-udp
context=from-callix
disallow=all
allow=ulaw
allow=alaw
allow=gsm
allow=g729
outbound_auth=callix_auth
aors=callix_trunk
direct_media=no
trust_id_outbound=yes
send_pai=yes
from_user=YOUR_CALLIX_USERNAME      ; ⚠️ REPLACE WITH YOUR USERNAME
from_domain=sip.callix.pro
rtp_symmetric=yes
force_rport=yes
rewrite_contact=yes
callerid=1234567890

;=============================================================================
; After adding, reload Asterisk:
;   asterisk -rx "core reload"
;
; Test registration:
;   asterisk -rx "pjsip show registrations"
;   Should show BOTH: magnus_trunk AND callix_trunk as Registered
;=============================================================================
