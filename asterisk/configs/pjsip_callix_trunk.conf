;=============================================================================
; PJSIP Configuration for Proline SIP Trunk (Bot 3)
;=============================================================================
; This file configures Asterisk to register with Proline as a SIP trunk
; This trunk is ADDED to the existing pjsip.conf alongside other trunks
;=============================================================================
;
; ⚠️ IMPORTANT: Append this content to your existing /etc/asterisk/pjsip.conf
; Do NOT replace the file - ADD these sections at the end
;
;=============================================================================

;-----------------------------------------------------------------------------
; Proline Trunk Registration
;-----------------------------------------------------------------------------
[proline_trunk]
type=registration
transport=transport-udp
outbound_auth=proline_auth
server_uri=sip:sip.prolinecall.site
client_uri=sip:YOUR_PROLINE_USERNAME@sip.prolinecall.site
retry_interval=60
max_retries=1000
auth_rejection_permanent=no
contact_user=YOUR_PROLINE_USERNAME

;-----------------------------------------------------------------------------
; Authentication for Proline
;-----------------------------------------------------------------------------
[proline_auth]
type=auth
auth_type=userpass
username=YOUR_PROLINE_USERNAME       ; ⚠️ REPLACE WITH YOUR PROLINE USERNAME
password=YOUR_PROLINE_PASSWORD       ; ⚠️ REPLACE WITH YOUR PROLINE PASSWORD
realm=sip.prolinecall.site

;-----------------------------------------------------------------------------
; AOR (Address of Record) for Proline
;-----------------------------------------------------------------------------
[proline_trunk]
type=aor
contact=sip:sip.prolinecall.site

;-----------------------------------------------------------------------------
; Identify - Match incoming calls from Proline
;-----------------------------------------------------------------------------
[proline_trunk]
type=identify
endpoint=proline_trunk
match=sip.prolinecall.site

;-----------------------------------------------------------------------------
; Endpoint Configuration for Outbound Calls via Proline
;-----------------------------------------------------------------------------
[proline_trunk]
type=endpoint
transport=transport-udp
context=from-proline
disallow=all
allow=ulaw
allow=alaw
allow=gsm
allow=g729
outbound_auth=proline_auth
aors=proline_trunk
direct_media=no
trust_id_outbound=yes
send_pai=yes
from_user=YOUR_PROLINE_USERNAME      ; ⚠️ REPLACE WITH YOUR USERNAME
from_domain=sip.prolinecall.site
rtp_symmetric=yes
force_rport=yes
rewrite_contact=yes
callerid=1234567890

;=============================================================================
; After adding, reload Asterisk:
;   asterisk -rx "core reload"
;
; Test registration:
;   asterisk -rx "pjsip show registrations"
;   Should show proline_trunk as Registered
;=============================================================================
